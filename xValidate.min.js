function xValidate(e,t=!1,r=null){let l=!0;Array.from(document.querySelectorAll(".xValidateError")).forEach(e=>{null!=r?e.classList.remove(r):(e.style.color="initial",e.style.borderColor="initial"),e.remove()});for(let t of Object.keys(e)){if(null==e[t].class&&null==e[t].id)return console.error("xValidate error: class or id properties are not defined in the rules."),!1;if(null!=e[t].class&&null!=e[t].id)return console.error("xValidate error: Both class and id properties are defined. Please delete one of them from the rules."),!1;let n=null!=e[t].class?"."+e[t].class:"#"+e[t].id,a=Array.from(document.querySelectorAll(n));a.forEach(a=>{if(a.id===n.substr(1)||a.classList.contains(n.substr(1))){if("text"===a.getAttribute("type")||"password"===a.getAttribute("type")||"number"===a.getAttribute("type"))if(null!=e[t].properties.required){if(0===a.value.length){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.required?e[t].messages.required:"This field is required.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}else if(null!=e[t].properties.maxLength){if(a.value.length>e[t].properties.maxLength){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.maxLength?e[t].messages.maxLength:"You have reached the max length of this input field.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}else if(null!=e[t].properties.minLength&&a.value.length<e[t].properties.minLength){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.minLength?e[t].messages.minLength:"This input requires a minimal amount of characters.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}if("email"===a.getAttribute("type"))if(null!=e[t].properties.required){if(0===a.value.length){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.required?e[t].messages.required:"This field is required.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}else if(a.value.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)){if(null!=e[t].properties.minLength){if(a.value.length>e[t].properties.minLength){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.minLength?e[t].messages.minLength:"You have reached the max length of this field.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}else if(null!=e[t].properties.maxLength&&a.value.length>e[t].properties.maxLength){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.maxLength?e[t].messages.maxLength:"You have reached the max length of this field.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}else{let n=document.createElement("span");n.innerHTML=null!=e[t].messages.validateMail?e[t].messages.validateMail:"You have not provided a valid email.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}if("password"===a.getAttribute("type"))if(null!=e[t].properties.minLength){if(a.value.length<e[t].properties.minLength){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.minLength?e[t].messages.minLength:"You have to provide a minimum amount of characters.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}else if(null!=e[t].properties.maxLength&&a.value.length>e[t].properties.maxLength){let n=document.createElement("span");n.innerHTML=null!=e[t].messages.maxLength?e[t].messages.maxLength:"You have reached the max length of this field.",addErrorClass(n,r),a.parentElement.appendChild(n),l=!1}}})}return l&&t&&htmlArray[0].parentElement.submit(),l}function addErrorClass(e,t=null){t?e.classList.add(t):(e.style.color="red",e.style.borderColor="red"),e.classList.add("xValidateError")}